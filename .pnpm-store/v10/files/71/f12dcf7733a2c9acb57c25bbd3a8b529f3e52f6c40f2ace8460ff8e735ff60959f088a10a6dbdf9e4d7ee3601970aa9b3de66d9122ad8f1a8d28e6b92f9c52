{"version":3,"file":"index.js","sources":["../src/propTypes.ts","../src/utils.ts","../src/Chart/extendData.ts","../src/Label.tsx","../src/Chart/renderLabels.tsx","../node_modules/svg-partial-circle/index.js","../src/Path.tsx","../src/Chart/renderSegments.tsx","../src/Chart/Chart.tsx"],"sourcesContent":["import PropTypes from 'prop-types';\n\nexport const stylePropType = PropTypes.objectOf(\n  PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n);\n\nexport const dataPropType = PropTypes.arrayOf(\n  PropTypes.shape({\n    title: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    value: PropTypes.number.isRequired,\n    color: PropTypes.string,\n    key: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    style: stylePropType,\n  })\n);\n","import type { Props as ChartProps } from './Chart';\n\nfunction round(number: number): number {\n  const divisor = 1e14; // 14 decimals\n  return Math.round((number + Number.EPSILON) * divisor) / divisor;\n}\n\nexport function degreesToRadians(degrees: number) {\n  return (degrees * Math.PI) / 180;\n}\n\nexport function evaluateLabelTextAnchor({\n  labelPosition,\n  lineWidth,\n  labelHorizontalShift,\n}: {\n  labelPosition: number;\n  lineWidth: number;\n  labelHorizontalShift: number;\n}) {\n  const dx = round(labelHorizontalShift);\n  // Label in the vertical center\n  if (dx === 0) {\n    return 'middle';\n  }\n  // Outward label\n  if (labelPosition > 100) {\n    return dx > 0 ? 'start' : 'end';\n  }\n  // Inward label\n  const innerRadius = 100 - lineWidth;\n  if (labelPosition < innerRadius) {\n    return dx > 0 ? 'end' : 'start';\n  }\n  // Overlying label\n  return 'middle';\n}\n\nexport function valueBetween(value: number, min: number, max: number) {\n  if (value > max) return max;\n  if (value < min) return min;\n  return value;\n}\n\nexport function extractPercentage(value: number, percentage: number) {\n  return (value * percentage) / 100;\n}\n\nexport function extractAbsoluteCoordinates(props: ChartProps) {\n  const [viewBoxWidth, viewBoxHeight] = props.viewBoxSize;\n  return {\n    cx: extractPercentage(props.cx, viewBoxWidth),\n    cy: extractPercentage(props.cy, viewBoxHeight),\n    radius: extractPercentage(props.radius, viewBoxWidth),\n  };\n}\n\nexport function bisectorAngle(startAngle: number, lengthAngle: number) {\n  return startAngle + lengthAngle / 2;\n}\n\nexport function shiftVectorAlongAngle(angle: number, distance: number) {\n  const angleRadians = degreesToRadians(angle);\n  return {\n    dx: distance * Math.cos(angleRadians),\n    dy: distance * Math.sin(angleRadians),\n  };\n}\n\nexport function isNumber(value: unknown): value is number {\n  return typeof value === 'number';\n}\n\nexport function functionProp<Prop, Payload>(\n  prop: Prop,\n  payload?: Payload,\n  index?: number\n  // @ts-ignore\n): Prop extends Function ? ReturnType<Prop> : Prop {\n  return typeof prop === 'function' ? prop(payload, index) : prop;\n}\n","import { extractPercentage, valueBetween } from '../utils';\nimport type { Data, ExtendedData } from '../commonTypes';\nimport type { Props as ChartProps } from './Chart';\n\nfunction sumValues(data: Data): number {\n  let sum = 0;\n  for (let i = 0; i < data.length; i++) {\n    sum += data[i].value;\n  }\n  return sum;\n}\n\n// Append \"percentage\", \"degrees\" and \"startOffset\" into each data entry\nexport default function extendData({\n  data,\n  lengthAngle: totalAngle,\n  totalValue,\n  paddingAngle,\n}: ChartProps): ExtendedData {\n  const total = totalValue || sumValues(data);\n  const normalizedTotalAngle = valueBetween(totalAngle, -360, 360);\n  const numberOfPaddings =\n    Math.abs(normalizedTotalAngle) === 360 ? data.length : data.length - 1;\n  const singlePaddingDegrees = Math.abs(paddingAngle) * Math.sign(totalAngle);\n  const degreesTakenByPadding = singlePaddingDegrees * numberOfPaddings;\n  const degreesTakenByPaths = normalizedTotalAngle - degreesTakenByPadding;\n  let lastSegmentEnd = 0;\n\n  // @NOTE: Shall we evaluate percentage accordingly to dataEntry.value's sign?\n  return data.map((dataEntry) => {\n    const valueInPercentage = total === 0 ? 0 : (dataEntry.value / total) * 100;\n    const degrees = extractPercentage(degreesTakenByPaths, valueInPercentage);\n    const startOffset = lastSegmentEnd;\n    lastSegmentEnd = lastSegmentEnd + degrees + singlePaddingDegrees;\n\n    return {\n      percentage: valueInPercentage,\n      degrees,\n      startOffset,\n      ...dataEntry,\n    };\n  });\n}\n","import React from 'react';\nimport type { ExtendedData, StyleObject } from './commonTypes';\n\nexport type Props = {\n  key?: string | number;\n  x: number;\n  y: number;\n  dx: number;\n  dy: number;\n  textAnchor: string;\n  data: ExtendedData;\n  dataIndex: number;\n  color: string;\n  style?: StyleObject;\n};\n\nexport default function ReactMinimalPieChartLabel({\n  data,\n  dataIndex,\n  color,\n  ...props\n}: Props) {\n  return (\n    <text\n      textAnchor=\"middle\"\n      dominantBaseline=\"middle\"\n      fill={color}\n      {...props}\n    />\n  );\n}\n\nReactMinimalPieChartLabel.displayName = 'ReactMinimalPieChartLabel';\n","import React from 'react';\nimport DefaultLabel from '../Label';\nimport {\n  bisectorAngle,\n  evaluateLabelTextAnchor,\n  extractPercentage,\n  extractAbsoluteCoordinates,\n  functionProp,\n  shiftVectorAlongAngle,\n} from '../utils';\nimport type { Props as LabelProps } from '../Label';\nimport type { ExtendedData, LabelProp } from '../commonTypes';\nimport type { Props as ChartProps } from './Chart';\n\nfunction renderLabelItem(\n  providedLabel: LabelProp,\n  labelProps: LabelProps,\n  defaultValue: number\n): JSX.Element {\n  if (React.isValidElement(providedLabel)) {\n    return React.cloneElement(providedLabel, labelProps);\n  }\n\n  let labelValue: number | string = defaultValue;\n  if (typeof providedLabel === 'function') {\n    const label = providedLabel(labelProps);\n    if (React.isValidElement(label)) {\n      return label;\n    }\n    labelValue = label;\n  }\n\n  return <DefaultLabel {...labelProps}>{labelValue}</DefaultLabel>;\n}\n\nexport default function renderLabels(data: ExtendedData, props: ChartProps) {\n  const { cx, cy, radius } = extractAbsoluteCoordinates(props);\n  return data.map((dataEntry, index) => {\n    const segmentsShift = functionProp(props.segmentsShift, data, index) ?? 0;\n    const distanceFromCenter = extractPercentage(\n      radius,\n      props.labelPosition + segmentsShift\n    );\n    const startAngle = props.startAngle + dataEntry.startOffset;\n    const segmentBisector = bisectorAngle(startAngle, dataEntry.degrees);\n    const { dx, dy } = shiftVectorAlongAngle(\n      segmentBisector,\n      distanceFromCenter\n    );\n\n    // This object is passed as props to the \"label\" component\n    const labelProps = {\n      key: `label-${dataEntry.key || index}`,\n      x: cx,\n      y: cy,\n      dx,\n      dy,\n      textAnchor: evaluateLabelTextAnchor({\n        labelPosition: props.labelPosition,\n        lineWidth: props.lineWidth,\n        labelHorizontalShift: dx,\n      }),\n      data,\n      dataIndex: index,\n      color: dataEntry.color,\n      style: props.labelStyle,\n    };\n\n    return (\n      props.label && renderLabelItem(props.label, labelProps, dataEntry.value)\n    );\n  });\n}\n","'use strict'\n\n// from http://stackoverflow.com/a/18473154\nconst partialCircle = (cx, cy, r, start, end) => {\n\tconst length = end - start\n\tif (length === 0) return []\n\n\tconst fromX = r * Math.cos(start) + cx\n\tconst fromY = r * Math.sin(start) + cy\n\tconst toX = r * Math.cos(end) + cx\n\tconst toY = r * Math.sin(end) + cy\n\tconst large = Math.abs(length) <= Math.PI ? '0' : '1'\n\tconst sweep = length < 0 ? '0' : '1'\n\n\treturn [\n\t\t['M', fromX, fromY],\n\t\t['A', r, r, 0, large, sweep, toX, toY]\n\t]\n}\n\nmodule.exports = partialCircle\n","import React from 'react';\nimport partialCircle from 'svg-partial-circle';\nimport {\n  bisectorAngle,\n  degreesToRadians,\n  extractPercentage,\n  isNumber,\n  shiftVectorAlongAngle,\n  valueBetween,\n} from './utils';\nimport type { StyleObject } from './commonTypes';\n\nexport function makePathCommands(\n  cx: number,\n  cy: number,\n  startAngle: number,\n  lengthAngle: number,\n  radius: number\n) {\n  const patchedLengthAngle = valueBetween(lengthAngle, -359.999, 359.999);\n\n  return partialCircle(\n    cx,\n    cy, // center X and Y\n    radius,\n    degreesToRadians(startAngle),\n    degreesToRadians(startAngle + patchedLengthAngle)\n  )\n    .map((command) => command.join(' '))\n    .join(' ');\n}\n\ntype Props = {\n  cx: number;\n  cy: number;\n  fill?: string;\n  lengthAngle: number;\n  lineWidth: number;\n  key?: number | string;\n  onBlur?: (event: React.FocusEvent) => void;\n  onClick?: (event: React.MouseEvent) => void;\n  onFocus?: (event: React.FocusEvent) => void;\n  onKeyDown?: (event: React.KeyboardEvent) => void;\n  onMouseOut?: (event: React.MouseEvent) => void;\n  onMouseOver?: (event: React.MouseEvent) => void;\n  radius: number;\n  reveal?: number;\n  shift?: number;\n  startAngle: number;\n  stroke?: string;\n  strokeLinecap?: 'butt' | 'round' | 'square' | 'inherit';\n  style?: StyleObject;\n  tabIndex?: number;\n  title?: string | number;\n};\n\nexport default function ReactMinimalPieChartPath({\n  cx,\n  cy,\n  lengthAngle,\n  lineWidth,\n  radius,\n  shift = 0,\n  reveal,\n  startAngle,\n  title,\n  ...props\n}: Props) {\n  const pathRadius = radius - lineWidth / 2;\n  //@NOTE This shift might be rendered as a translation in future\n  const { dx, dy } = shiftVectorAlongAngle(\n    bisectorAngle(startAngle, lengthAngle),\n    shift\n  );\n\n  const pathCommands = makePathCommands(\n    cx + dx,\n    cy + dy,\n    startAngle,\n    lengthAngle,\n    pathRadius\n  );\n  let strokeDasharray;\n  let strokeDashoffset;\n\n  // Animate/hide paths with \"stroke-dasharray\" + \"stroke-dashoffset\"\n  // https://css-tricks.com/svg-line-animation-works/\n  if (isNumber(reveal)) {\n    const pathLength = degreesToRadians(pathRadius) * lengthAngle;\n    strokeDasharray = Math.abs(pathLength);\n    strokeDashoffset =\n      strokeDasharray - extractPercentage(strokeDasharray, reveal);\n  }\n\n  return (\n    <path\n      d={pathCommands}\n      strokeWidth={lineWidth}\n      strokeDasharray={strokeDasharray}\n      strokeDashoffset={strokeDashoffset}\n      {...props}\n    >\n      {title && <title>{title}</title>}\n    </path>\n  );\n}\n\nReactMinimalPieChartPath.displayName = 'ReactMinimalPieChartPath';\n","import React from 'react';\nimport Path from '../Path';\nimport {\n  extractPercentage,\n  extractAbsoluteCoordinates,\n  functionProp,\n  isNumber,\n} from '../utils';\nimport type { ExtendedData, StyleObject } from '../commonTypes';\nimport type { Props as ChartProps } from './Chart';\n\nfunction makeSegmentTransitionStyle(\n  duration: number,\n  easing: string,\n  furtherStyles?: StyleObject\n): { transition: string } {\n  // Merge chart's animation CSS transition with \"transition\" found to furtherStyles\n  let transition = `stroke-dashoffset ${duration}ms ${easing}`;\n  if (furtherStyles && furtherStyles.transition) {\n    transition = `${transition},${furtherStyles.transition}`;\n  }\n  return {\n    transition,\n  };\n}\n\nfunction getRevealValue<Reveal>(props: { reveal?: Reveal; animate: boolean }) {\n  //@NOTE When animation is on, chart has to be fully revealed when reveal is not set\n  if (props.animate && !isNumber(props.reveal)) {\n    return 100;\n  }\n  return props.reveal;\n}\n\nexport default function renderSegments(\n  data: ExtendedData,\n  props: ChartProps,\n  revealOverride?: null | number\n) {\n  // @NOTE this should go in Path component. Here for performance reasons\n  const reveal = revealOverride ?? getRevealValue(props);\n  const segmentTransitionsCombined =\n    props.animate &&\n    makeSegmentTransitionStyle(\n      props.animationDuration,\n      props.animationEasing,\n      props.segmentsStyle\n    );\n\n  // @NOTE TS can't keep track of existence check (eg. props.onBlur && ...) of object properties\n  // @TODO Find a better solution then extracting props (.bind() or second && check inside callback)\n  const {\n    onBlur,\n    onClick,\n    onFocus,\n    onKeyDown,\n    onMouseOut,\n    onMouseOver,\n  } = props;\n\n  const { cx, cy, radius } = extractAbsoluteCoordinates(props);\n  const lineWidth = extractPercentage(radius, props.lineWidth);\n  const paths = data.map((dataEntry, index) => {\n    const segmentsShift = functionProp(props.segmentsShift, props.data, index);\n    return (\n      <Path\n        key={dataEntry.key || index}\n        cx={cx}\n        cy={cy}\n        startAngle={props.startAngle + dataEntry.startOffset}\n        lengthAngle={dataEntry.degrees}\n        radius={radius}\n        lineWidth={lineWidth}\n        reveal={reveal}\n        shift={segmentsShift && extractPercentage(radius, segmentsShift)}\n        title={dataEntry.title}\n        style={Object.assign(\n          {},\n          props.segmentsStyle,\n          segmentTransitionsCombined,\n          dataEntry.style\n        )}\n        stroke={dataEntry.color}\n        strokeLinecap={props.rounded ? 'round' : undefined}\n        tabIndex={props.segmentsTabIndex}\n        fill=\"none\"\n        onBlur={\n          onBlur &&\n          ((e) => {\n            onBlur(e, props.data, index);\n          })\n        }\n        onClick={\n          onClick &&\n          ((e) => {\n            onClick(e, props.data, index);\n          })\n        }\n        onFocus={\n          onFocus &&\n          ((e) => {\n            onFocus(e, props.data, index);\n          })\n        }\n        onKeyDown={\n          onKeyDown &&\n          ((e) => {\n            onKeyDown(e, props.data, index);\n          })\n        }\n        onMouseOver={\n          onMouseOver &&\n          ((e) => {\n            onMouseOver(e, props.data, index);\n          })\n        }\n        onMouseOut={\n          onMouseOut &&\n          ((e) => {\n            onMouseOut(e, props.data, index);\n          })\n        }\n      />\n    );\n  });\n\n  if (props.background) {\n    paths.unshift(\n      <Path\n        key=\"bg\"\n        cx={cx}\n        cy={cy}\n        startAngle={props.startAngle}\n        lengthAngle={props.lengthAngle}\n        radius={radius}\n        lineWidth={lineWidth}\n        stroke={props.background}\n        strokeLinecap={props.rounded ? 'round' : undefined}\n        fill=\"none\"\n      />\n    );\n  }\n\n  return paths;\n}\n","import React, { Component } from 'react';\nimport type { FocusEvent, KeyboardEvent, MouseEvent } from 'react';\nimport PropTypes from 'prop-types';\nimport { dataPropType, stylePropType } from '../propTypes';\nimport extendData from './extendData';\nimport renderLabels from './renderLabels';\nimport renderSegments from './renderSegments';\nimport type {\n  Data,\n  EventHandler,\n  LabelProp,\n  StyleObject,\n} from '../commonTypes';\n\n// @NOTE Excluding defaultProps entries causing typing bugs\nexport type Props = Omit<typeof ReactMinimalPieChart.defaultProps, 'label'> & {\n  animate?: boolean;\n  animationDuration?: number;\n  animationEasing?: string;\n  background?: string;\n  className?: string;\n  cx?: number;\n  cy?: number;\n  data: Data;\n  lengthAngle?: number;\n  lineWidth?: number;\n  injectSvg?: () => React.ReactElement | void;\n  label?: LabelProp;\n  labelPosition?: number;\n  labelStyle?: StyleObject;\n  onBlur?: EventHandler<FocusEvent>;\n  onClick?: EventHandler<MouseEvent>;\n  onFocus?: EventHandler<FocusEvent>;\n  onKeyDown?: EventHandler<KeyboardEvent>;\n  onMouseOut?: EventHandler<MouseEvent>;\n  onMouseOver?: EventHandler<MouseEvent>;\n  paddingAngle?: number;\n  radius?: number;\n  reveal?: number;\n  rounded?: boolean;\n  segmentsShift?:\n    | number\n    | ((data: Data, dataIndex: number) => number | undefined);\n  segmentsStyle?: StyleObject;\n  segmentsTabIndex?: number;\n  startAngle?: number;\n  style?: StyleObject;\n  totalValue?: number;\n  viewBoxSize?: [number, number];\n};\n\nexport default class ReactMinimalPieChart extends Component<Props> {\n  static displayName = 'ReactMinimalPieChart';\n  static defaultProps = {\n    animate: false,\n    animationDuration: 500,\n    animationEasing: 'ease-out',\n    cx: 50,\n    cy: 50,\n    label: false,\n    labelPosition: 50,\n    lengthAngle: 360,\n    lineWidth: 100,\n    paddingAngle: 0,\n    radius: 50,\n    rounded: false,\n    startAngle: 0,\n    viewBoxSize: [100, 100],\n  };\n  static propTypes = {\n    animate: PropTypes.bool,\n    animationDuration: PropTypes.number,\n    animationEasing: PropTypes.string,\n    background: PropTypes.string,\n    children: PropTypes.node,\n    className: PropTypes.string,\n    cx: PropTypes.number,\n    cy: PropTypes.number,\n    data: dataPropType,\n    injectSvg: PropTypes.func,\n    label: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.element,\n      PropTypes.bool,\n    ]),\n    labelPosition: PropTypes.number,\n    labelStyle: stylePropType,\n    lengthAngle: PropTypes.number,\n    lineWidth: PropTypes.number,\n    onBlur: PropTypes.func,\n    onClick: PropTypes.func,\n    onFocus: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    paddingAngle: PropTypes.number,\n    radius: PropTypes.number,\n    reveal: PropTypes.number,\n    rounded: PropTypes.bool,\n    segmentsShift: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n    segmentsStyle: stylePropType,\n    segmentsTabIndex: PropTypes.number,\n    startAngle: PropTypes.number,\n    style: stylePropType,\n    totalValue: PropTypes.number,\n    viewBoxSize: PropTypes.arrayOf(PropTypes.number),\n  };\n\n  revealOverride?: null | number;\n  animationTimerId?: null | number;\n  animationRAFId?: null | number;\n\n  constructor(props: Props) {\n    super(props);\n\n    if (props.animate === true) {\n      this.revealOverride = 0;\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.animate === true && requestAnimationFrame) {\n      this.animationTimerId = setTimeout(() => {\n        this.animationTimerId = null;\n        this.animationRAFId = requestAnimationFrame(() => {\n          this.animationRAFId = null;\n          this.startAnimation();\n        });\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.animationTimerId) {\n      clearTimeout(this.animationTimerId);\n    }\n    if (this.animationRAFId) {\n      cancelAnimationFrame(this.animationRAFId);\n    }\n  }\n\n  startAnimation() {\n    this.revealOverride = null;\n    this.forceUpdate();\n  }\n\n  render() {\n    const props = this.props;\n    if (props.data === undefined) {\n      return null;\n    }\n    const extendedData = extendData(props);\n\n    return (\n      <div className={props.className} style={props.style}>\n        <svg\n          viewBox={`0 0 ${props.viewBoxSize[0]} ${props.viewBoxSize[1]}`}\n          width=\"100%\"\n          height=\"100%\"\n          style={{ display: 'block' }}\n        >\n          {renderSegments(extendedData, props, this.revealOverride)}\n          {props.label && renderLabels(extendedData, props)}\n          {props.injectSvg && props.injectSvg()}\n        </svg>\n        {props.children}\n      </div>\n    );\n  }\n}\n"],"names":["stylePropType","PropTypes","objectOf","oneOfType","number","string","dataPropType","arrayOf","shape","title","value","isRequired","color","key","style","round","divisor","Math","Number","EPSILON","degreesToRadians","degrees","PI","evaluateLabelTextAnchor","labelPosition","lineWidth","labelHorizontalShift","dx","innerRadius","valueBetween","min","max","extractPercentage","percentage","extractAbsoluteCoordinates","props","viewBoxSize","viewBoxWidth","viewBoxHeight","cx","cy","radius","bisectorAngle","startAngle","lengthAngle","shiftVectorAlongAngle","angle","distance","angleRadians","cos","dy","sin","isNumber","functionProp","prop","payload","index","sumValues","data","sum","i","length","extendData","totalAngle","totalValue","paddingAngle","total","normalizedTotalAngle","numberOfPaddings","abs","singlePaddingDegrees","sign","degreesTakenByPadding","degreesTakenByPaths","lastSegmentEnd","map","dataEntry","valueInPercentage","startOffset","ReactMinimalPieChartLabel","dataIndex","React","displayName","renderLabelItem","providedLabel","labelProps","defaultValue","isValidElement","cloneElement","labelValue","label","DefaultLabel","renderLabels","segmentsShift","distanceFromCenter","segmentBisector","x","y","textAnchor","labelStyle","partialCircle","r","start","end","fromX","fromY","toX","toY","large","sweep","module","makePathCommands","patchedLengthAngle","command","join","ReactMinimalPieChartPath","shift","reveal","pathRadius","pathCommands","strokeDasharray","strokeDashoffset","pathLength","makeSegmentTransitionStyle","duration","easing","furtherStyles","transition","getRevealValue","animate","renderSegments","revealOverride","segmentTransitionsCombined","animationDuration","animationEasing","segmentsStyle","onBlur","onClick","onFocus","onKeyDown","onMouseOut","onMouseOver","paths","Path","Object","assign","rounded","undefined","segmentsTabIndex","e","background","unshift","ReactMinimalPieChart","animationTimerId","animationRAFId","componentDidMount","requestAnimationFrame","setTimeout","startAnimation","componentWillUnmount","clearTimeout","cancelAnimationFrame","forceUpdate","render","extendedData","className","display","injectSvg","children","Component","defaultProps","propTypes","bool","node","func","element"],"mappings":"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"}